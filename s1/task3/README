Реализовать set, как красно-черное дерево, с теоретико-множественными
операциями(пересечение...)
